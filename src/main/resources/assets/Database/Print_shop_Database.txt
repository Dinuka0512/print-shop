CREATE DATABASE printShop;
USE printShop;


CREATE TABLE customer(
	cust_Id VARCHAR(255) PRIMARY KEY,
	name VARCHAR(255) NOT NULL,
	address VARCHAR(255),
	email VARCHAR(255) NOT NULL UNIQUE,
	contact VARCHAR(255) NOT NULL
);



CREATE TABLE order_Type(
	OT_Id VARCHAR(255) PRIMARY KEY,
	description VARCHAR(255),
	pricePerOne DECIMAL(10,2)
);



CREATE TABLE orders(
	o_Id VARCHAR(255) PRIMARY KEY,
	cust_Id VARCHAR(255) NOT NULL,
	OT_Id VARCHAR(255) NOT NULL,
	date DATE,
	FOREIGN KEY(cust_Id) REFERENCES customer(cust_Id) ON DELETE CASCADE ON UPDATE CASCADE,
	FOREIGN KEY(OT_Id) REFERENCES order_Type(OT_Id) ON DELETE CASCADE ON UPDATE CASCADE
);



CREATE TABLE payments(
	p_Id VARCHAR(255) PRIMARY KEY,
	date DATE NOT NULL,
	o_Id VARCHAR(255),
	amount DECIMAL(10,2),
	FOREIGN KEY (o_Id) REFERENCES orders(o_Id) ON DELETE CASCADE ON UPDATE CASCADE 
);
